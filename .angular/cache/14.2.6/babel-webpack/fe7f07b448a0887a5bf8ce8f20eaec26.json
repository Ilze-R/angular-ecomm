{"ast":null,"code":"'use strict';\n\nvar $ = require('../internals/export');\n\nvar IS_PURE = require('../internals/is-pure');\n\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar global = require('../internals/global');\n\nvar call = require('../internals/function-call');\n\nvar defineBuiltIn = require('../internals/define-built-in');\n\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\nvar setToStringTag = require('../internals/set-to-string-tag');\n\nvar setSpecies = require('../internals/set-species');\n\nvar aCallable = require('../internals/a-callable');\n\nvar isCallable = require('../internals/is-callable');\n\nvar isObject = require('../internals/is-object');\n\nvar anInstance = require('../internals/an-instance');\n\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar task = require('../internals/task').set;\n\nvar microtask = require('../internals/microtask');\n\nvar hostReportErrors = require('../internals/host-report-errors');\n\nvar perform = require('../internals/perform');\n\nvar Queue = require('../internals/queue');\n\nvar InternalStateModule = require('../internals/internal-state');\n\nvar NativePromiseConstructor = require('../internals/promise-native-constructor');\n\nvar PromiseConstructorDetection = require('../internals/promise-constructor-detection');\n\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\n\nvar PROMISE = 'Promise';\nvar FORCED_PROMISE_CONSTRUCTOR = PromiseConstructorDetection.CONSTRUCTOR;\nvar NATIVE_PROMISE_REJECTION_EVENT = PromiseConstructorDetection.REJECTION_EVENT;\nvar NATIVE_PROMISE_SUBCLASSING = PromiseConstructorDetection.SUBCLASSING;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar setInternalState = InternalStateModule.set;\nvar NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;\nvar PromiseConstructor = NativePromiseConstructor;\nvar PromisePrototype = NativePromisePrototype;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen; // helpers\n\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && isCallable(then = it.then) ? then : false;\n};\n\nvar callReaction = function (reaction, state) {\n  var value = state.value;\n  var ok = state.state == FULFILLED;\n  var handler = ok ? reaction.ok : reaction.fail;\n  var resolve = reaction.resolve;\n  var reject = reaction.reject;\n  var domain = reaction.domain;\n  var result, then, exited;\n\n  try {\n    if (handler) {\n      if (!ok) {\n        if (state.rejection === UNHANDLED) onHandleUnhandled(state);\n        state.rejection = HANDLED;\n      }\n\n      if (handler === true) result = value;else {\n        if (domain) domain.enter();\n        result = handler(value); // can throw\n\n        if (domain) {\n          domain.exit();\n          exited = true;\n        }\n      }\n\n      if (result === reaction.promise) {\n        reject(TypeError('Promise-chain cycle'));\n      } else if (then = isThenable(result)) {\n        call(then, result, resolve, reject);\n      } else resolve(result);\n    } else reject(value);\n  } catch (error) {\n    if (domain && !exited) domain.exit();\n    reject(error);\n  }\n};\n\nvar notify = function (state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  microtask(function () {\n    var reactions = state.reactions;\n    var reaction;\n\n    while (reaction = reactions.get()) {\n      callReaction(reaction, state);\n    }\n\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = {\n    promise: promise,\n    reason: reason\n  };\n\n  if (!NATIVE_PROMISE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (state) {\n  call(task, global, function () {\n    var promise = state.facade;\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      }); // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (state) {\n  call(task, global, function () {\n    var promise = state.facade;\n\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, state, unwrap) {\n  return function (value) {\n    fn(state, value, unwrap);\n  };\n};\n\nvar internalReject = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(state, true);\n};\n\nvar internalResolve = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n\n  try {\n    if (state.facade === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n\n    if (then) {\n      microtask(function () {\n        var wrapper = {\n          done: false\n        };\n\n        try {\n          call(then, value, bind(internalResolve, wrapper, state), bind(internalReject, wrapper, state));\n        } catch (error) {\n          internalReject(wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(state, false);\n    }\n  } catch (error) {\n    internalReject({\n      done: false\n    }, error, state);\n  }\n}; // constructor polyfill\n\n\nif (FORCED_PROMISE_CONSTRUCTOR) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromisePrototype);\n    aCallable(executor);\n    call(Internal, this);\n    var state = getInternalPromiseState(this);\n\n    try {\n      executor(bind(internalResolve, state), bind(internalReject, state));\n    } catch (error) {\n      internalReject(state, error);\n    }\n  };\n\n  PromisePrototype = PromiseConstructor.prototype; // eslint-disable-next-line no-unused-vars -- required for `.length`\n\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: new Queue(),\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  }; // `Promise.prototype.then` method\n  // https://tc39.es/ecma262/#sec-promise.prototype.then\n\n\n  Internal.prototype = defineBuiltIn(PromisePrototype, 'then', function then(onFulfilled, onRejected) {\n    var state = getInternalPromiseState(this);\n    var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n    state.parent = true;\n    reaction.ok = isCallable(onFulfilled) ? onFulfilled : true;\n    reaction.fail = isCallable(onRejected) && onRejected;\n    reaction.domain = IS_NODE ? process.domain : undefined;\n    if (state.state == PENDING) state.reactions.add(reaction);else microtask(function () {\n      callReaction(reaction, state);\n    });\n    return reaction.promise;\n  });\n\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalPromiseState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, state);\n    this.reject = bind(internalReject, state);\n  };\n\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper ? new OwnPromiseCapability(C) : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && isCallable(NativePromiseConstructor) && NativePromisePrototype !== Object.prototype) {\n    nativeThen = NativePromisePrototype.then;\n\n    if (!NATIVE_PROMISE_SUBCLASSING) {\n      // make `Promise#then` return a polyfilled `Promise` for native promise-based APIs\n      defineBuiltIn(NativePromisePrototype, 'then', function then(onFulfilled, onRejected) {\n        var that = this;\n        return new PromiseConstructor(function (resolve, reject) {\n          call(nativeThen, that, resolve, reject);\n        }).then(onFulfilled, onRejected); // https://github.com/zloirock/core-js/issues/640\n      }, {\n        unsafe: true\n      });\n    } // make `.constructor === Promise` work for native promise-based APIs\n\n\n    try {\n      delete NativePromisePrototype.constructor;\n    } catch (error) {\n      /* empty */\n    } // make `instanceof Promise` work for native promise-based APIs\n\n\n    if (setPrototypeOf) {\n      setPrototypeOf(NativePromisePrototype, PromisePrototype);\n    }\n  }\n}\n\n$({\n  global: true,\n  constructor: true,\n  wrap: true,\n  forced: FORCED_PROMISE_CONSTRUCTOR\n}, {\n  Promise: PromiseConstructor\n});\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);","map":{"version":3,"sources":["/Users/i/Desktop/angular/ang-full-ecom/03-frontend/angular-ecommerce/node_modules/core-js-pure/modules/es.promise.constructor.js"],"names":["$","require","IS_PURE","IS_NODE","global","call","defineBuiltIn","setPrototypeOf","setToStringTag","setSpecies","aCallable","isCallable","isObject","anInstance","speciesConstructor","task","set","microtask","hostReportErrors","perform","Queue","InternalStateModule","NativePromiseConstructor","PromiseConstructorDetection","newPromiseCapabilityModule","PROMISE","FORCED_PROMISE_CONSTRUCTOR","CONSTRUCTOR","NATIVE_PROMISE_REJECTION_EVENT","REJECTION_EVENT","NATIVE_PROMISE_SUBCLASSING","SUBCLASSING","getInternalPromiseState","getterFor","setInternalState","NativePromisePrototype","prototype","PromiseConstructor","PromisePrototype","TypeError","document","process","newPromiseCapability","f","newGenericPromiseCapability","DISPATCH_EVENT","createEvent","dispatchEvent","UNHANDLED_REJECTION","REJECTION_HANDLED","PENDING","FULFILLED","REJECTED","HANDLED","UNHANDLED","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","isThenable","it","then","callReaction","reaction","state","value","ok","handler","fail","resolve","reject","domain","result","exited","rejection","onHandleUnhandled","enter","exit","promise","error","notify","isReject","notified","reactions","get","onUnhandled","name","reason","event","initEvent","facade","IS_UNHANDLED","isUnhandled","emit","parent","bind","fn","unwrap","internalReject","done","internalResolve","wrapper","Promise","executor","type","undefined","onFulfilled","onRejected","add","C","Object","that","unsafe","constructor","wrap","forced"],"mappings":"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","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar IS_NODE = require('../internals/engine-is-node');\nvar global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar aCallable = require('../internals/a-callable');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar anInstance = require('../internals/an-instance');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar perform = require('../internals/perform');\nvar Queue = require('../internals/queue');\nvar InternalStateModule = require('../internals/internal-state');\nvar NativePromiseConstructor = require('../internals/promise-native-constructor');\nvar PromiseConstructorDetection = require('../internals/promise-constructor-detection');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\n\nvar PROMISE = 'Promise';\nvar FORCED_PROMISE_CONSTRUCTOR = PromiseConstructorDetection.CONSTRUCTOR;\nvar NATIVE_PROMISE_REJECTION_EVENT = PromiseConstructorDetection.REJECTION_EVENT;\nvar NATIVE_PROMISE_SUBCLASSING = PromiseConstructorDetection.SUBCLASSING;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar setInternalState = InternalStateModule.set;\nvar NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;\nvar PromiseConstructor = NativePromiseConstructor;\nvar PromisePrototype = NativePromisePrototype;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\n\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\n\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && isCallable(then = it.then) ? then : false;\n};\n\nvar callReaction = function (reaction, state) {\n  var value = state.value;\n  var ok = state.state == FULFILLED;\n  var handler = ok ? reaction.ok : reaction.fail;\n  var resolve = reaction.resolve;\n  var reject = reaction.reject;\n  var domain = reaction.domain;\n  var result, then, exited;\n  try {\n    if (handler) {\n      if (!ok) {\n        if (state.rejection === UNHANDLED) onHandleUnhandled(state);\n        state.rejection = HANDLED;\n      }\n      if (handler === true) result = value;\n      else {\n        if (domain) domain.enter();\n        result = handler(value); // can throw\n        if (domain) {\n          domain.exit();\n          exited = true;\n        }\n      }\n      if (result === reaction.promise) {\n        reject(TypeError('Promise-chain cycle'));\n      } else if (then = isThenable(result)) {\n        call(then, result, resolve, reject);\n      } else resolve(result);\n    } else reject(value);\n  } catch (error) {\n    if (domain && !exited) domain.exit();\n    reject(error);\n  }\n};\n\nvar notify = function (state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  microtask(function () {\n    var reactions = state.reactions;\n    var reaction;\n    while (reaction = reactions.get()) {\n      callReaction(reaction, state);\n    }\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (!NATIVE_PROMISE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (state) {\n  call(task, global, function () {\n    var promise = state.facade;\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (state) {\n  call(task, global, function () {\n    var promise = state.facade;\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, state, unwrap) {\n  return function (value) {\n    fn(state, value, unwrap);\n  };\n};\n\nvar internalReject = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(state, true);\n};\n\nvar internalResolve = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (state.facade === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          call(then, value,\n            bind(internalResolve, wrapper, state),\n            bind(internalReject, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(state, false);\n    }\n  } catch (error) {\n    internalReject({ done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED_PROMISE_CONSTRUCTOR) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromisePrototype);\n    aCallable(executor);\n    call(Internal, this);\n    var state = getInternalPromiseState(this);\n    try {\n      executor(bind(internalResolve, state), bind(internalReject, state));\n    } catch (error) {\n      internalReject(state, error);\n    }\n  };\n\n  PromisePrototype = PromiseConstructor.prototype;\n\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: new Queue(),\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n\n  // `Promise.prototype.then` method\n  // https://tc39.es/ecma262/#sec-promise.prototype.then\n  Internal.prototype = defineBuiltIn(PromisePrototype, 'then', function then(onFulfilled, onRejected) {\n    var state = getInternalPromiseState(this);\n    var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n    state.parent = true;\n    reaction.ok = isCallable(onFulfilled) ? onFulfilled : true;\n    reaction.fail = isCallable(onRejected) && onRejected;\n    reaction.domain = IS_NODE ? process.domain : undefined;\n    if (state.state == PENDING) state.reactions.add(reaction);\n    else microtask(function () {\n      callReaction(reaction, state);\n    });\n    return reaction.promise;\n  });\n\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalPromiseState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, state);\n    this.reject = bind(internalReject, state);\n  };\n\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && isCallable(NativePromiseConstructor) && NativePromisePrototype !== Object.prototype) {\n    nativeThen = NativePromisePrototype.then;\n\n    if (!NATIVE_PROMISE_SUBCLASSING) {\n      // make `Promise#then` return a polyfilled `Promise` for native promise-based APIs\n      defineBuiltIn(NativePromisePrototype, 'then', function then(onFulfilled, onRejected) {\n        var that = this;\n        return new PromiseConstructor(function (resolve, reject) {\n          call(nativeThen, that, resolve, reject);\n        }).then(onFulfilled, onRejected);\n      // https://github.com/zloirock/core-js/issues/640\n      }, { unsafe: true });\n    }\n\n    // make `.constructor === Promise` work for native promise-based APIs\n    try {\n      delete NativePromisePrototype.constructor;\n    } catch (error) { /* empty */ }\n\n    // make `instanceof Promise` work for native promise-based APIs\n    if (setPrototypeOf) {\n      setPrototypeOf(NativePromisePrototype, PromisePrototype);\n    }\n  }\n}\n\n$({ global: true, constructor: true, wrap: true, forced: FORCED_PROMISE_CONSTRUCTOR }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n"]},"metadata":{},"sourceType":"script"}